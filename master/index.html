<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CropTech Fert - Agricultural Solutions</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Pageclip CSS -->
    <link rel="stylesheet" href="https://s.pageclip.co/v1/pageclip.css" media="screen">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark py-3" style="background-color: var(--primary-green);">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-tractor me-2"></i>CropTech Fert, Nashik
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="products.html">Products</a></li>
                    <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section text-white">
        <div class="container text-center">
            <h1 class="display-4 mb-4">Nourishing Crops, Sustaining Futures</h1>
            <p class="lead mb-4">Advanced agricultural solutions for maximum yield</p>
            <button class="btn btn-cta" href="products.html">Explore Products</button>
        </div>
    </section>

    <section class="py-5">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-4">
                    <div class="feature-box">
                        <i class="agriculture-icon fas fa-seedling"></i>
                        <h3>Organic Solutions</h3>
                        <p>Eco-friendly fertilizers for sustainable farming</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-box">
                        <i class="agriculture-icon fas fa-flask"></i>
                        <h3>Scientific Formulations</h3>
                        <p>Lab-tested nutrient combinations</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-box">
                        <i class="agriculture-icon fas fa-globe-americas"></i>
                        <h3>Global Standards</h3>
                        <p>Internationally certified products</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

<!-- Product Carousel Section -->
<section id="products" class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5">Our Products</h2>
        <div class="carousel-container">
            <div class="product-carousel" id="productCarousel"></div>
        </div>
        <div class="text-center mt-4">
            <a href="products.html" class="btn btn-cta">View All Products</a>
        </div>
    </div>
</section>

    <!-- About Section -->
    <section id="about" class="py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h2>About CropTech Fert</h2>
                    <p class="lead">Pioneering agricultural solutions since 1995</p>
                    <p>We combine cutting-edge technology with sustainable practices...</p>
                </div>
                <div class="col-md-6">
                    <img src="https://agriculturepost.com/wp-content/uploads/2021/01/Future-of-Indian-agriculture-lies-on-tech-driven-farming-practices-Vice-President.jpg" alt="Lab" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Form Section -->
    <!-- Contact Form Section -->
    <section id="contact" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-4">Send Inquiry</h2>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <form action="https://send.pageclip.co/YOUR-PAGECLIP-URL"
                          class="pageclip-form"
                          method="post">
                        <div class="mb-3">
                            <label class="form-label">Full Name</label>
                            <input type="text" name="name" class="form-control" required>
                    <form action="https://send.pageclip.co/YOUR-PAGECLIP-URL" 
                          class="pageclip-form" 
                          method="post">
                        <div class="mb-3">
                            <label class="form-label">Full Name</label>
                            <input type="text" name="name" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email Address</label>
                            <input type="email" name="email" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Select Product</label>
                            <select name="product" class="form-select" required>
                                <option value="">Choose a product...</option>
                                <!-- Product options populated by JavaScript -->
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Message</label>
                            <textarea name="message" class="form-control" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-cta w-100 pageclip-form__submit">
                            <span>Send Inquiry</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer with Map -->
    <footer class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6 mb-4">
                    <h4>Our Headquarters</h4>
                    <div class="map-container mt-3">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3472.834891536045!2d73.79715202720207!3d19.9700331!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTnCsDU4JzEyLjEiTiA3M8KwNDcrNDkuNyJF!5e0!3m2!1sen!2sin!4v1706529876543!5m2!1sen!2sin" 
                                width="100%" 
                                height="300" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy">
                        </iframe>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="row">
                        <div class="col-6">
                            <h4>Quick Links</h4>
                            <ul class="list-unstyled">
                                <li><a href="#products" class="text-white text-decoration-none">Products</a></li>
                                <li><a href="#contact" class="text-white text-decoration-none">Technical Support</a></li>
                                <li><a href="#contact" class="text-white text-decoration-none">Dealer Network</a></li>
                            </ul>
                        </div>
                        <div class="col-6">
                            <h4>Contact</h4>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-map-marker-alt me-2"></i>834,Roongta Futurex, Near RD Circle, Nashik, 422008.</li>
                                <li><i class="fas fa-phone me-2"></i>+91 9226799099</li>
                                <li><i class="fas fa-envelope me-2"></i>support@croptechfert.com</li>
                            </ul>
                            <div class="mt-3">
                                <a href="#" class="text-white me-3"><i class="fab fa-facebook"></i></a>
                                <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="text-white"><i class="fab fa-linkedin"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <p class="mb-0">&copy; 2025 CropTech Fert. All rights reserved</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Pageclip JS -->
    <script src="https://s.pageclip.co/v1/pageclip.js" charset="utf-8"></script>

    <!-- Custom JS -->
    <script>
        // Configuration
        const API_URL = 'https://sheetdb.io/api/v1/h2h0d3lo7rr91';
        const WHATSAPP_NUMBER = '9822544589';
        const UPDATE_INTERVAL = 600000000000000000000000000;
    
        // State management
        let currentProducts = [];
        const carousel = document.getElementById('productCarousel');
        const productSelect = document.querySelector('select[name="product"]');
    
        // WhatsApp message template
        function getWhatsappMessage(product) {
            return encodeURIComponent(
                `Hi CropTech Fert,\n\nI'm interested in your ${product.name} product.\nCan you provide more details?`
            );
        }
    
        // Generate product card with WhatsApp link
        function generateProductCard(product) {
            // Parse specs JSON string
            const specs = JSON.parse(product.specs.replace(/\\/g, ''));
            
            return `
                <div class="card product-card">
                    <img src="${product.img.replace(/\\/g, '/')}" class="card-img-top" alt="${product.name}">
                    <div class="card-body">
                        <h5 class="card-title">${product.name}</h5>
                        <p class="card-text">${product.desc}</p>
                        <ul class="list-unstyled">
                            ${specs.map(spec => `<li>âœ“ ${spec}</li>`).join('')}
                        </ul>
                        <a href="https://wa.me/${WHATSAPP_NUMBER}?text=${getWhatsappMessage(product)}" 
                           class="btn btn-cta" 
                           target="_blank">
                            Inquire via WhatsApp
                        </a>
                    </div>
                </div>
            `;
        }
    
        // Fetch products from SheetDB
        async function fetchProducts() {
            try {
                const response = await fetch(API_URL);
                if (!response.ok) throw new Error('Network response was not ok');
                
                const newProducts = await response.json();
                if (JSON.stringify(newProducts) !== JSON.stringify(currentProducts)) {
                    currentProducts = newProducts;
                    updateProductDisplay();
                }
            } catch (error) {
                console.error('Error fetching products:', error);
            }
        }
    
        // Update product display
        function updateProductDisplay() {
            // Clear existing content
            carousel.innerHTML = '';
            productSelect.innerHTML = '<option value="">Choose a product...</option>';
    
            // Generate new content
            currentProducts.forEach(product => {
                // Add to carousel
                carousel.innerHTML += generateProductCard(product);
                
                // Add to select dropdown
                const option = document.createElement('option');
                option.value = product.id;
                option.textContent = product.name;
                productSelect.appendChild(option);
            });
    
            // Clone products for infinite scroll
            carousel.innerHTML += carousel.innerHTML;
        }
    
        // Initialize and auto-refresh
        function init() {
            fetchProducts();
            setInterval(fetchProducts, UPDATE_INTERVAL);
        }
    
        // Start application
        init();
    </script>
</body>
</html>
